!function(){"use strict";function e(e){e.forEach((function(e){e.reset(),e.querySelector(".form__submit").classList.add("button_inactive")}))}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var o=function(){return e=function e(t,n){var r=t.data,o=t.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=r.link,this._name=r.name,this._cardSelector=n,this._handleCardClick=o},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".cards__element").cloneNode("true")}},{key:"_handleLikeAndDislike",value:function(){this._element.querySelector(".cards__element_itemImage").addEventListener("click",(function(e){e.target.classList.toggle("cards__like_active")}))}},{key:"_handleRemove",value:function(){var e=this,t=document.querySelector(".popup_delete-card"),n=document.querySelector(".form__submit_confirmation");this._element.querySelector(".cards__element_trast").addEventListener("click",(function(){t.classList.toggle("popup_show"),n.addEventListener("click",(function(){e._element.remove(),t.classList.toggle("popup_show"),console.log("¡La terjeta fue eliminada con Éxito!")}))}))}},{key:"_showCard",value:function(){var e=this;this._element.querySelector(".cards__element_image").addEventListener("click",(function(){e._handleCardClick({link:e._link,name:e._name})}))}},{key:"_setEventListeners",value:function(){var e=this;this._handleLikeAndDislike(),this._handleRemove(),this._showCard(),this._imagenElement.addEventListener("click",(function(){e._handleCardClick({link:e._link,name:e._name})}))}},{key:"createNewCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".cards__element_itemTitle").textContent=this._name,this._imagenElement=this._element.querySelector(".cards__element_image"),this._imagenElement.src=this._link,this._imagenElement.alt=this._name,this._setEventListeners(),this._element}}])&&n(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),i=o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_showInputError",(function(e,t){var n=e.parentElement.querySelector(".form__error");e.classList.add("form__input_type_error"),n.textContent=t,n.classList.add("form__input-error_active")})),u(this,"_hideInputError",(function(e){var t=e.parentElement.querySelector(".form__error");e.classList.remove("form__input_type_error"),t.classList.remove("form__input-error_active"),t.textContent=""})),u(this,"_checkInputValidity",(function(e){e.validity.valid?n._hideInputError(e):n._showInputError(e,e.validationMessage)})),u(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),u(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?t.classList.add("button_inactive"):t.classList.remove("button_inactive")})),u(this,"enableValidation",(function(){n._allForms.forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(document.forms).forEach((function(e){n._setEventListeners(e)}))}))})),this._allForms=t,this.enableValidation()},(t=[{key:"_setEventListeners",value:function(e){var t=this,n=Array.from(e.querySelectorAll(".form__input")),r=e.querySelector(".form__submit");n.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState(n,r)}))}))}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),f=s;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var d=function(){return e=function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=y(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupSelector=t,this._popupElement=document.querySelector(this._popupSelector),this._handleEscClose=this._handleEscClose.bind(this)},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_show"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_show"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this,t=this._popupElement.querySelector(".popup__close-button"),n=this._popupElement.querySelectorAll(".popup__overlay");t.addEventListener("click",(function(){e.close()})),n.forEach((function(t){t.addEventListener("click",(function(){e.close()}))})),document.addEventListener("keydown",this._handleEscClose)}}])&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}function h(e,t,n){return t=E(t),function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w()?Reflect.construct(t,n||[],E(e).constructor):t.apply(e,n))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var k=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e]))._submitButton=n,r._form=document.querySelector(e).querySelector(".form"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(r=[{key:"_getInputValues",value:function(){var e={};return this._form.querySelectorAll(".form__input").forEach((function(t){t.name&&(e[t.name]=t.value)})),e}},{key:"close",value:function(){this._form.reset(),S(E(t.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;S(E(t.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._submitButton(n),e.close()}));var n=this._form.querySelector(this._closeButonSelector);n&&n.addEventListener("click",(function(t){t.preventDefault(),e.close()}))}}])&&_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(d);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}function P(e,t,n){return t=T(t),function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q()?Reflect.construct(t,n||[],T(e).constructor):t.apply(e,n))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var I=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e,n){var r=document.querySelector(this._popupSelector);this._image=r.querySelector("#popup__image"),this._description=r.querySelector(".popup__title"),this._image&&this._description?(this._image.src=e,this._image.alt=n,this._description.textContent=n,C(T(t.prototype),"open",this).call(this)):alert("Elemento de imagen o descripcion no encontradas")}}])&&L(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(d);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function V(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}var D=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderer",value:function(){var e=this;this.clear(),this._items.forEach((function(t){var n=e._renderer(t);e.addItem(n)}))}}])&&R(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}var N=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r)},(t=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameElement.textContent=t,this._jobElement.textContent=n}}])&&z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),M=document.querySelectorAll(".form"),U=(document.querySelector(".popup"),document.querySelector(".buttons__item_index_profile")),F=document.querySelector(".buttons__item_index_add-card"),Y=(document.querySelectorAll(".popup__overlay"),document.querySelectorAll(".form__error"),document.querySelector(".popup__close-button"),document.querySelector(".cards__element_item-imagen"),document.querySelector(".cards__element_trast")),H=document.querySelector(".buttons__edit"),G=(document.querySelector(".cards"),new I(".popup_content-image"));G.setEventListeners();var J=function(e){G.open(e.link,e.name)},K=function(e){return new i({data:e,handleCardClick:J,handleDeleteClick:function(e){currentCard=e,popupDeleteCofirmation.open(e)}},"#newElement").createNewCard()},Q=new D({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg",alt:"Valle Yosemie Valley"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg",alt:"Lago Lake Louise"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg",alt:"Latemar"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg",alt:"Vanoise National"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg",alt:"Lago di Braies"}],renderer:function(e){return K(e)}},".cards");window.addEventListener("load",(function(){return Q.renderer()}));var X=new N({nameSelector:".buttons__name",jobSelector:".buttons__explorer"}),Z=new k(".popup_edit-profile",(function(t){X.setUserInfo({name:t.name,job:t.activity}),Z.close(),e(M)}));Z.setEventListeners(),U.addEventListener("click",(function(){Z.open()}));var $=new k(".popup_content-addcard",(function(t){var n=K({name:t.newplace,link:t.enlace});document.querySelector(".cards").prepend(n),$.close(),e(M)}));$.setEventListeners(),F.addEventListener("click",(function(){$.open()}));var ee=new k(".popup_avatar",(function(e){}));ee.setEventListeners(),H.addEventListener("click",(function(){ee.open()}));var te=new k(".popup_delete-card",(function(e){}));te.setEventListeners(),Y.addEventListener("click",(function(){te.open()})),new f(M).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEcsaUJBQWlCLFNBQVMsV0FDdkMySCxHQUFvQmxCLE1BQ3hCLElBRUEsSUFBTW1CLEdBQStCLElBQUlqRSxFRDdGVCxzQkM2RmdELFNBQUNhLEdBQ2pGLElBQ0FvRCxHQUE2QnBCLG9CQUU3QkgsRUFBY3JHLGlCQUFpQixTQUFTLFdBQ3BDNEgsR0FBNkJuQixNQUNqQyxJQUdtQixJQUFJcEYsRUFBY0MsR0FDMUJzQixrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZ1bmNpw7NuIHF1ZSBub3MgcGVybWl0ZSByZXNldGVhciBsb3MgZm9ybXVsYXJpb3MgeSB0YW1iacOpblxyXG5mdW5jdGlvbiByZXNldEZvcm1zKGZvcm1zKSB7XHJcbiAgICBmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICAgICAgLy8gUmVzZXRlYSBjYWRhIGVudHJhZGEgZGUgbG9zIGZvcm11bGFyaW9zIHBhcmEgZWxpbWluYXIgbG9zIGRhdG9zIHF1ZSBxdWVkYW5cclxuICAgICAgICBmb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKS5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uX2luYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHJlc2V0Rm9ybXMgfTtcclxuIiwiaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcblxyXG5jbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrIH0sIGNhcmRTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3RWxlbW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudFwiKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKFwidHJ1ZVwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld0VsZW1udDtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlTGlrZUFuZERpc2xpa2UoKSB7XHJcbiAgICAgICAgLy9BIGxhIHRhcmpldGEgY3JlYWRhIHNlIGxlIGRhIGVsIEV2ZW50byBDbGljayBxdWUgYWN0aXZhIG8gZGVzYWN0aXZhIGVsIGJvdG9uIGRlIG1lIGd1c3RhIHNpIGVsIHVzdWFyaW8gbG8gc2VsZWNjaW9uYVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudF9pdGVtSW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRzX19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlUmVtb3ZlKCkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfZGVsZXRlLWNhcmRcIilcclxuICAgICAgICBjb25zdCBjb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXRfY29uZmlybWF0aW9uXCIpO1xyXG4gICAgICAgIC8vQSBsYSB0YXJqZXRhIGNyZWFkYSBzZSBsZSBkYSBlbCBFdmVudG8gY2xpY2sgcXVlIG5vcyBwZXJtaXRlIGVsaW1pbmFyIGxhIHRhcmpldGEgc2VsZWNjaW9uYWRhXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50X3RyYXN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBkZWxldGVDb25maXJtYXRpb24uY2xhc3NMaXN0LnRvZ2dsZShcInBvcHVwX3Nob3dcIik7XHJcbiAgICAgICAgICAgIGNvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVDb25maXJtYXRpb24uY2xhc3NMaXN0LnRvZ2dsZShcInBvcHVwX3Nob3dcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIsKhTGEgdGVyamV0YSBmdWUgZWxpbWluYWRhIGNvbiDDiXhpdG8hXCIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93Q2FyZCgpIHtcclxuICAgICAgICAvL0EgbGEgdGFyamV0YSBjcmVhZGEgc2UgbGUgZGEgZWwgZXZlbnRvIGNsaWNrIHF1ZSBub3MgcGVybWl0ZSBtb3N0cmFyIGxhIHRhcmpldGEgZW4gbGEgcGFudGFsbGEgdW5hIHZleiBxdWUgZWwgdXN1YXJpbyBsYSBzZWxlY2Npb25lXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50X2ltYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQW5kRGlzbGlrZSgpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX3Nob3dDYXJkKCk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VuRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy9VdGlsaXphIGxhIHBsYW50aWxsYSBjb2xvY2FkYSBlbiBodG1sIHBhcmEgY3JlYXIgbGEgbnVldmEgdGFyamV0YSBpbmdyZXNhZGEgcG9yIGVsIHVzdWFyaW9cclxuICAgIGNyZWF0ZU5ld0NhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50X2l0ZW1UaXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VuRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudF9pbWFnZVwiKTtcclxuICAgICAgICB0aGlzLl9pbWFnZW5FbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VuRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7ICAgIGNvbnN0cnVjdG9yKGFsbEZvcm1zKSB7XHJcbiAgICAgICAgdGhpcy5fYWxsRm9ybXMgPSBhbGxGb3JtcztcclxuICAgICAgICB0aGlzLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0Z1bmNpw7NuIHBhcmEgbW9zdHJhciBlbCBtZW5zYWplIGRlIGVycm9yIGN1YW5kbyBlbCB1c3VhcmlvIGludHJvZHVjZSBkYXRvcyBlcnJvbmVvcyBlbiBsb3MgY2FtcG9zXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPVxyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuZm9ybV9fZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIik7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBGdW5jacOzbiBwYXJhIG9jdWx0YXIgZWwgbWVuc2FqZSBkZSBlcnJvciBjdWFuZG8gZWwgdXN1YXJpbyBwb25nYSB0b2RvcyBsb3MgZGF0b3MgcmVxdWVyaWRvc1xyXG4gICAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9XHJcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5mb3JtX19lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL0VzdGEgZnVuY2nDs24gcmV2aXNhIHNpIGVsIGlucHV0IGVzIHbDoWxpZG8gbyBubyB5IGRlcGVuZGllbmRvIGRlIGVzdG8gYWN0aXZhIG8gZGVzYWN0aXZhIGVsIGJvdG9uIGd1YXJkYXJcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvL0VzdGEgZnVuY2nDs24gZGV2dWVsdmUgdHJ1ZSBzaSBhbG1lbm9zIGhheSB1biBpbnB1dCBubyB2w6FsaWRvIGVuIGVsIGFycmF5XHJcbiAgICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL0VzdGEgZnVuY2nDs24gbm9zIHZlcmlmaWNhIHNpIGFsZ3VubyBkZSBsb3MgY2FtcG9zIGVzIHbDoWxpZG8geSBkZXBlbmRpZW5kbyBkZSBlc3RvIGFjdGl2YSBvIGRlc2FjdGl2YSBlbCBib3RvbiBndWFyZGFyXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJ1dHRvbl9pbmFjdGl2ZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJidXR0b25faW5hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvL0VzdGEgZnVuY2nDs24gY3JlYSB1bmEgbGlzdGEgZGUgdG9kb3MgbG9zIGlucHVzIHkgZGUgdG9kb3MgbG9zIGJvdG9uZXMuIEx1ZWdvIGl0ZXJhIHNvYnJlIGVzdG9zIGNhbXBvcyBsbGFtYW5kbyBhIGxhcyBmdW5jaW9uZXMgYW50ZXJpb3Jlc1xyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIilcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKTtcclxuICAgICAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0VzdGEgZnVuY2nDs24gbGxhbWEgYSBsYSBhbnRlcmlvclxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9hbGxGb3Jtcy5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRzZXRMaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5mb3Jtcyk7XHJcbiAgICAgICAgICAgIGZpZWxkc2V0TGlzdC5mb3JFYWNoKChmaWVsZHNldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZmllbGRzZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICAvL1JlY2liZSB1biBzZWxlY3RvciBwb3B1cFxyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vTcOpdG9kbyBww7pibGljbyBwYXJhIGFicmlyIGVsIHBvcHVwIG8gbGEgaW1hZ2VuIHNlbGVjY2lvbmFkYVxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICAvL0Ficmlyw6EgZWwgcG9wdXBcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX3Nob3dcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vTcOpdG9kbyBww7pibGljbyBwYXJhIGNlcnJhciBlbCBwb3B1cCBvIGxhIGltYWdlbiBzZWxlY2Npb25hZGFcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIC8vQ2VycmFyIGVsIHBvcHVwXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9zaG93XCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL03DqXRvZG8gcHJpdmFkbyBwYXJhIGNlcnJhciBlbCBwb3B1cCBhbCBwdWxzYXIgbGEgdGVjbGEgRXNjXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy9Nw6l0b2RvIHDDumJsaWNvIHBhcmEgYWdyZWdhciBldmVudG9zIGRlIGNsaWMgYWwgaWNvbm8gY2VycmFyIHkgZWwgw6FyZWEgc29tYnJlYWRhXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGFsbE92ZXJsYXkgPVxyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fb3ZlcmxheVwiKTtcclxuICAgICAgICAvLyBjb25zdCBwb3B1cFNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFsbE92ZXJsYXkuZm9yRWFjaCgob3ZlcmxheSkgPT4ge1xyXG4gICAgICAgICAgICAvL0NlcnJhciBsYSBpbWFnZW4gcG9wdXAgYWwgZGFyIGNsaWMgZW4gZWwgT3ZlcmxheVxyXG4gICAgICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7IC8vQ2VycmFyIGFsIHByZXNpb25hciBsYSB0ZWNsYSBFc2NcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaUNhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gc3VibWlDYWxsYmFjaztcclxuICAgICAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIC8vbcOpdG9kbyBwYXJhIGFsbWFjZW5hciBsb3MgdmFsb3JlcyBkZSB0b2RvcyBsb3MgY2FtcG9zIGRlIGVudHJhZGFcclxuICAgICAgICBjb25zdCB2YWx1ZXNJbXB1dCA9IHt9OyAvL09iamV0byBwYXJhIGFsbWFjZW5hciB0b2RvcyBsb3MgdmFsb3JlcyBkZSBsb3MgY2FtcG9zIGRlIGVudHJhZGFcclxuICAgICAgICBjb25zdCBhbGxJbnB1dCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcclxuXHJcbiAgICAgICAgYWxsSW5wdXQuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNJbXB1dFtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXNJbXB1dDtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTsgLy8gUmVpbmljaWFyIGVsIGZvcm11bGFyaW8gYWwgY2VycmFyIGVsIHBvcHVwXHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbihmb3JtRGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2xvc2VCdXRvblNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoY2xvc2VCdXR0b24pIHtcclxuICAgICAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7Ly9Fc3RhIGNsYXNlIGxvIHF1ZSBub3MgcGVybWl0aXLDoSBlcyBxdWUgYWwgbW9tZW50byBkZSBkYXJsZSBjbGljayBhIHVuYSBkZSBsYXMgaW3DoWdlbmVzIGRlIG51ZXN0cmEgcMOhZ2luYSwgZXN0ZSBzZSBtb3N0cmFyw6EgZW4gbGEgdmVudGFuYSwgeSBhZGVtYXMgdGVuZHLDoSB1biBkZXNjcmlwY2nDs24gY29ydGEgZW4gbGEgcGFydGUgaW5mZXJpb3IgZGUgbGEgbWlzdG1hLlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGxpbmssIG5hbWUpIHtcclxuICAgICAgICBjb25zdCBwb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlXCIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faW1hZ2UgJiYgdGhpcy5fZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgICAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJFbGVtZW50byBkZSBpbWFnZW4gbyBkZXNjcmlwY2lvbiBubyBlbmNvbnRyYWRhc1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7ICAgIC8vUmVjaWJlIGVsIG1hcmNhZG8gYXRyYXZleiBkZSB1bmEgZnVuY2nDsyBkZSBjYWxsYmFjayB5IGxvIGlzZXJ0YSBlbiBlbCBjb250ZW5lZG9yLlxyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtczsgLy9BcnJheSBkZSBkYXRvc1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7IC8vRnVuY2nDs24gcmVzcG9zYWJsZSBkZSBjcmVhciB5IG1vc3RyYXIgbG9zIGRhdG9zIGVuIGxhIHDDoWdpbmFcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRTZWxlY3Rvcik7IC8vU2VsZWNjaW9uYSBsYSBjbGFzZSBkb25kZSB2YW4gbG9zIGVsZW1lbnRvIGRlIGxhIHRhcmpldGFcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICAvL1RvbWEgdW4gZWxlbWVudG8gZGVsIERPTSB5IGxvIGFncmVnYSBhbCBjb250ZW5lclxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyZXIoKSB7XHJcbiAgICAgICAgLy9SZW5kZXJpemEgY2FkYSB1bm8gZGUgbG9zIGVsZW1lbnRvcyBlbiBsYSBww6FnaW5hXHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEl0ZW0oY2FyZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8geyAgICAvL0VzIGNhcGF6IGRlIHByZXNlbnRhciBpbmZvcm1hY2nDs24gc29icmUgZWwgdXN1YXJpbyBlbiBsYSBww6FnaW5hXHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNw6l0b2RvIHDDumJsaWNvIHBhcmEgb2J0ZW5lciBpbmZvcm1hY2nDs24gc29icmUgZWwgdXN1YXJpb1xyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE3DqXRvZG8gcMO6YmxpY28gcGFyYSBlc3RhYmxlY2VyIGluZm9ybWFjacOzbiBzb2JyZSBlbCB1c3VhcmlvXHJcbiAgICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB9XHJcbn1cclxuIiwiY29uc3QgYWxsRm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1cIik7XHJcbmNvbnN0IHBvcHVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIik7XHJcbmNvbnN0IGJ1dHRvbkVkaWRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25zX19pdGVtX2luZGV4X3Byb2ZpbGVcIik7XHJcbmNvbnN0IGJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbnNfX2l0ZW1faW5kZXhfYWRkLWNhcmRcIik7XHJcbmNvbnN0IGFsbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19vdmVybGF5XCIpO1xyXG5jb25zdCBhbGxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fZXJyb3JcIik7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IFwiLnBvcHVwX2VkaXQtcHJvZmlsZVwiO1xyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBcIi5wb3B1cF9jb250ZW50LWFkZGNhcmRcIjtcclxuY29uc3QgcG9wdXBJbWFnZSA9IFwiLnBvcHVwX2NvbnRlbnQtaW1hZ2VcIjtcclxuY29uc3QgcHJvcHVwRGVsZXRlQ29maXJtYXRpb24gPSBcIi5wb3B1cF9kZWxldGUtY2FyZFwiO1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBcIi5wb3B1cF9hdmF0YXJcIjtcclxuY29uc3QgYnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIik7XHJcbmNvbnN0IGJ1dHRvbkxpa2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50X2l0ZW0taW1hZ2VuXCIpO1xyXG5jb25zdCBidXR0b25SZWN5Y2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudF90cmFzdFwiKTtcclxuY29uc3QgYnV0dG9uRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uc19fZWRpdFwiKTtcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gXCIjbmV3RWxlbWVudFwiO1xyXG5jb25zdCBjYXJkc0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpO1xyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgICAgIGFsdDogXCJWYWxsZSBZb3NlbWllIFZhbGxleVwiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgICAgICBhbHQ6IFwiTGFnbyBMYWtlIExvdWlzZVwiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgICAgIGFsdDogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhdGVtYXIuanBnXCIsXHJcbiAgICAgICAgYWx0OiBcIkxhdGVtYXJcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcclxuICAgICAgICBhbHQ6IFwiVmFub2lzZSBOYXRpb25hbFwiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxyXG4gICAgICAgIGFsdDogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgfSxcclxuXTtcclxuZXhwb3J0IHtcclxuICAgIHBvcHVwSW1hZ2UsXHJcbiAgICBwb3B1cFByb2ZpbGUsXHJcbiAgICBhbGxGb3JtcyxcclxuICAgIHBvcHVwRm9ybSxcclxuICAgIGJ1dHRvbkVkaWRQcm9maWxlLFxyXG4gICAgYnV0dG9uQWRkQ2FyZCxcclxuICAgIGFsbE92ZXJsYXksXHJcbiAgICBhbGxJbnB1dCxcclxuICAgIHBvcHVwQWRkQ2FyZCxcclxuICAgIGJ1dHRvbkNsb3NlLFxyXG4gICAgYnV0dG9uTGlrZSxcclxuICAgIGJ1dHRvblJlY3ljbGUsXHJcbiAgICBjYXJkc0FyZWEsXHJcbiAgICBpbml0aWFsQ2FyZHMsXHJcbiAgICBjYXJkVGVtcGxhdGUsXHJcbiAgICBwcm9wdXBEZWxldGVDb2Zpcm1hdGlvbixcclxuICAgIHBvcHVwRWRpdEF2YXRhcixcclxuICAgIGJ1dHRvbkVkaXRBdmF0YXIsXHJcbn07XHJcbiIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xuXG5pbXBvcnQgeyByZXNldEZvcm1zIH0gZnJvbSBcIi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICAgIHBvcHVwSW1hZ2UsXG4gICAgaW5pdGlhbENhcmRzLFxuICAgIGFsbEZvcm1zLFxuICAgIGNhcmRUZW1wbGF0ZSxcbiAgICBidXR0b25BZGRDYXJkLFxuICAgIGJ1dHRvbkVkaWRQcm9maWxlLFxuICAgIHBvcHVwUHJvZmlsZSxcbiAgICBwb3B1cEFkZENhcmQsXG4gICAgcHJvcHVwRGVsZXRlQ29maXJtYXRpb24sXG4gICAgcG9wdXBFZGl0QXZhdGFyLFxuICAgIGJ1dHRvbkVkaXRBdmF0YXIsXG4gICAgYnV0dG9uUmVjeWNsZVxufSBmcm9tIFwiLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy9DbGFzZSBlbmNhcmdhZGEgZGUgbW9zdHJhciBsYSBpbWFnZW4gc2VsZWNjaW9uYWRhIGVuIGxhIHZlbnRhbmEgZW1lcmdlbnRlXG5jb25zdCBwb3B1dEltYWdlbiA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcbnBvcHV0SW1hZ2VuLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vRnVuY2nDs24gcGFyYSBlZGl0YXIgZWwgcGVyZmlsIGRlbFxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGRhdGEpID0+IHsgcG9wdXRJbWFnZW4ub3BlbihkYXRhLmxpbmssIGRhdGEubmFtZSkgfTtcblxuLy9GdW5jacOzbiBwYXJhIGNyZWFyIHVuYSBudWV2YSB0YXJqZXRhXG5jb25zdCBjcmVhdGVDYXJkcyA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgY2FyZHNJbnRhbmNlID0gbmV3IENhcmQoe1xuICAgICAgICBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoY2FyRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY3VycmVudENhcmQgPSBjYXJFbGVtZW50O1xuICAgICAgICAgICAgcG9wdXBEZWxldGVDb2Zpcm1hdGlvbi5vcGVuKGNhckVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAgICAgY2FyZFRlbXBsYXRlXG4gICAgKTtcbiAgICByZXR1cm4gY2FyZHNJbnRhbmNlLmNyZWF0ZU5ld0NhcmQoKTtcbn07XG5cbi8vSW5zdGFuY2lhbW9zIGxhIGNsYXNlIHBhcmEgY3JlYXIgeSByZW5kZXJpemFyIGxhcyB0YXJqZXRhcyBkZWwgYXJyYXlcbmNvbnN0IG15U2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgIHtcbiAgICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2FyZHMoaXRlbSk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBcIi5jYXJkc1wiXG4pO1xuLy9DYXJnYSBsYXMgNiBUYXJqZXRhcyBwcmluY2lwYWxlcyBhbCBjYXJnYXJzZSBsYSBww6FnaW5hXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4gbXlTZWN0aW9uLnJlbmRlcmVyKCkpO1xuXG4vL0NsYXNlIHF1ZSBhbGFtY2VuYXLDoSBsb3MgZGF0b3MgZGVsIHVzdWFyaW9cbmNvbnN0IHVzZXJEYXRhID0gbmV3IFVzZXJJbmZvKHtcbiAgICBuYW1lU2VsZWN0b3I6IFwiLmJ1dHRvbnNfX25hbWVcIixcbiAgICBqb2JTZWxlY3RvcjogXCIuYnV0dG9uc19fZXhwbG9yZXJcIixcbn0pO1xuXG4vL0luc3RhbmNpYW1vcyB0b2RhcyBsYXMgY2xhc2VzIHBhcmEgbG9zIHBvcHVwXG5jb25zdCBwb3B1cEZvcm1FZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUHJvZmlsZSwgKGZvcm1EYXRhKSA9PiB7XG4gICAgdXNlckRhdGEuc2V0VXNlckluZm8oeyBuYW1lOiBmb3JtRGF0YS5uYW1lLCBqb2I6IGZvcm1EYXRhLmFjdGl2aXR5IH0pO1xuICAgIHBvcHVwRm9ybUVkaXRQcm9maWxlLmNsb3NlKCk7XG4gICAgcmVzZXRGb3JtcyhhbGxGb3Jtcyk7XG59KTtcbnBvcHVwRm9ybUVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vQ8OzZGlnbyBwYXJhIGJyaXIgZWwgcG9wdXAgZGUgZWRpdGFyIHBlcmZpbFxuYnV0dG9uRWRpZFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwb3B1cEZvcm1FZGl0UHJvZmlsZS5vcGVuKCk7XG59KTtcblxuLy9JbnN0YW5jaWEgZGUgcG9wdXBXaXRoRm9ybSBwYXJhIG1hbmVqYXIgZWwgZm9ybXVsYXJpbyBkZSBhw7FhZGlyIGxhIHRhcmpldGFcbmNvbnN0IHBvcHVwRm9ybUNvbnRlbnRBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRDYXJkLCAoZm9ybURhdGEpID0+IHtcbiAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZHMoe1xuICAgICAgICBuYW1lOiBmb3JtRGF0YS5uZXdwbGFjZSxcbiAgICAgICAgbGluazogZm9ybURhdGEuZW5sYWNlLFxuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIikucHJlcGVuZChuZXdDYXJkKTtcbiAgICBwb3B1cEZvcm1Db250ZW50QWRkQ2FyZC5jbG9zZSgpO1xuICAgIHJlc2V0Rm9ybXMoYWxsRm9ybXMpO1xufSk7XG5wb3B1cEZvcm1Db250ZW50QWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL0NvZGlnbyBwYXJhIGFicmlsIGVsIGZvcm11bGFyaW8gZGUgYcOxYWRpciB0YXJqZXRhIGRhbmRvIGNsaWNrIGVuIHVuIGJvdG9uIGRlIGFicmlyIGVsIHBvcHVwXG5idXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcG9wdXBGb3JtQ29udGVudEFkZENhcmQub3BlbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwRm9ybUVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRBdmF0YXIsIChmb3JtRGF0YSkgPT4ge1xufVxuKTtcbnBvcHVwRm9ybUVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmJ1dHRvbkVkaXRBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwb3B1cEZvcm1FZGl0QXZhdGFyLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEZvcm1EZWxldGVkQ29uZmlybWF0aW9uID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvcHVwRGVsZXRlQ29maXJtYXRpb24sIChmb3JtRGF0YSkgPT4ge1xufSk7XG5wb3B1cEZvcm1EZWxldGVkQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvblJlY3ljbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwb3B1cEZvcm1EZWxldGVkQ29uZmlybWF0aW9uLm9wZW4oKTtcbn0pO1xuXG4vL1ZhbGlkYWNpw7NuIGRlbCBmb3JtdWxhcmlvXG5jb25zdCBWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoYWxsRm9ybXMpO1xuVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsicmVzZXRGb3JtcyIsImZvcm1zIiwiZm9yRWFjaCIsImZvcm0iLCJyZXNldCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJDYXJkIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2xpbmsiLCJsaW5rIiwiX25hbWUiLCJuYW1lIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwidG9nZ2xlIiwiX3RoaXMiLCJkZWxldGVDb25maXJtYXRpb24iLCJjb25maXJtIiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsIl90aGlzMiIsIl90aGlzMyIsIl9oYW5kbGVMaWtlQW5kRGlzbGlrZSIsIl9oYW5kbGVSZW1vdmUiLCJfc2hvd0NhcmQiLCJfaW1hZ2VuRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImFsbEZvcm1zIiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJidXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsIl9hbGxGb3JtcyIsImZvcm1FbGVtZW50IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJBcnJheSIsImZyb20iLCJmaWVsZHNldCIsImVuYWJsZVZhbGlkYXRpb24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImNsb3NlIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ1dHRvbiIsImFsbE92ZXJsYXkiLCJvdmVybGF5IiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsInN1Ym1pQ2FsbGJhY2siLCJfY2FsbFN1cGVyIiwiX3N1Ym1pdEJ1dHRvbiIsIl9mb3JtIiwiX2luaGVyaXRzIiwidmFsdWVzSW1wdXQiLCJpdGVtIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhbGwiLCJmb3JtRGF0YSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9jbG9zZUJ1dG9uU2VsZWN0b3IiLCJQb3B1cFdpdGhJbWFnZSIsInBvcHVwRWxlbWVudCIsIl9pbWFnZSIsIl9kZXNjcmlwdGlvbiIsImFsZXJ0IiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaW5uZXJIVE1MIiwiZWxlbWVudCIsImFwcGVuZCIsImNsZWFyIiwiY2FyZCIsImFkZEl0ZW0iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJqb2IiLCJfcmVmMiIsImJ1dHRvbkVkaWRQcm9maWxlIiwiYnV0dG9uQWRkQ2FyZCIsImJ1dHRvblJlY3ljbGUiLCJidXR0b25FZGl0QXZhdGFyIiwicG9wdXRJbWFnZW4iLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW4iLCJjcmVhdGVDYXJkcyIsImhhbmRsZURlbGV0ZUNsaWNrIiwiY2FyRWxlbWVudCIsImN1cnJlbnRDYXJkIiwicG9wdXBEZWxldGVDb2Zpcm1hdGlvbiIsImNyZWF0ZU5ld0NhcmQiLCJteVNlY3Rpb24iLCJ3aW5kb3ciLCJ1c2VyRGF0YSIsInBvcHVwRm9ybUVkaXRQcm9maWxlIiwic2V0VXNlckluZm8iLCJhY3Rpdml0eSIsInBvcHVwRm9ybUNvbnRlbnRBZGRDYXJkIiwibmV3Q2FyZCIsIm5ld3BsYWNlIiwiZW5sYWNlIiwicHJlcGVuZCIsInBvcHVwRm9ybUVkaXRBdmF0YXIiLCJwb3B1cEZvcm1EZWxldGVkQ29uZmlybWF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==